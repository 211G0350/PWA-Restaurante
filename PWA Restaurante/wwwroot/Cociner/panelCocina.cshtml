@{
    Layout = "_LayoutCocinero";
    ViewData["Title"] = "Panel Cocina";
}

<div class="column" id="colNuevos">
    <h3>ğŸŸ¦ Nuevos (2)</h3>

    <div class="order">
        <h4>Mesa 3</h4>
        <p>Orden #2</p>
        <p style="color:red;">â° A las 12:20</p>
        <p>Tomado por: Leonardo</p>
        <p class="price">$4.50</p>
        <div class="order-buttons">
            <button class="btn-ver" onclick="verOrden('Mesa 3', '#2')">ğŸ‘ Ver</button>
            <button class="btn-comenzar" onclick="moverAPreparacion(this)">âœ” Comenzar</button>
        </div>
    </div>

    <div class="order">
        <h4>Mesa 4</h4>
        <p>Orden #3</p>
        <p style="color:red;">â° A las 12:26</p>
        <p>Tomado por: Leonardo</p>
        <p class="price">$6.50</p>
        <div class="order-buttons">
            <button class="btn-ver" onclick="verOrden('Mesa 4', '#3')">ğŸ‘ Ver</button>
            <button class="btn-comenzar" onclick="moverAPreparacion(this)">âœ” Comenzar</button>
        </div>
    </div>
</div>

<div class="column" id="colPreparacion">
    <h3>ğŸŸ§ En PreparaciÃ³n (1)</h3>

    <div class="order">
        <h4>Mesa 5</h4>
        <p>Orden #4</p>
        <p style="color:red;">â° A las 12:30</p>
        <p>Tomado por: Carlos</p>
        <p class="price">$8.00</p>
        <div class="order-buttons">
            <button class="btn-ver" onclick="verOrden('Mesa 5', '#4')">ğŸ‘ Ver</button>
            <button class="btn-comenzar" onclick="moverAListos(this)">âœ” Listo</button>
        </div>
    </div>
</div>

<div class="column" id="colListos">
    <h3>ğŸŸ© Listos (1)</h3>

    <div class="order">
        <h4>Mesa 6</h4>
        <p>Orden #1</p>
        <p style="color:red;">â° A las 12:10</p>
        <p>Tomado por: Ana</p>
        <p class="price">$5.50</p>
        <div class="order-buttons">
            <button class="btn-ver" onclick="verOrden('Mesa 6', '#1')">ğŸ‘ Ver</button>
        </div>
    </div>
</div>

    <script>
        function verOrden(mesa, orden) {
            alert(`ğŸ‘ Detalles de ${mesa}\nOrden ${orden}`);
        }

        function moverAPreparacion(btn) {
            const card = btn.closest(".order");
            document.getElementById("colPreparacion").querySelector(".orders")?.appendChild(card);
            btn.textContent = "âœ” Listo";
            btn.onclick = () => moverAListos(btn);
            actualizarContadores();
        }

        function moverAListos(btn) {
            const card = btn.closest(".order");
            document.getElementById("colListos").querySelector(".orders")?.appendChild(card);
            btn.remove(); // ya no necesita mÃ¡s botones
            actualizarContadores();
        }

        function actualizarContadores() {
            const nuevos = document.querySelectorAll("#colNuevos .order").length;
            const prep = document.querySelectorAll("#colPreparacion .order").length;
            const listos = document.querySelectorAll("#colListos .order").length;

            document.querySelector("#colNuevos h3").textContent = `ğŸŸ¦ Nuevos (${nuevos})`;
            document.querySelector("#colPreparacion h3").textContent = `ğŸŸ§ En PreparaciÃ³n (${prep})`;
            document.querySelector("#colListos h3").textContent = `ğŸŸ© Listos (${listos})`;
        }
    </script>

