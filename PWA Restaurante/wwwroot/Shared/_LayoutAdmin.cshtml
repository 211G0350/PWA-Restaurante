    <!DOCTYPE html>
    <html lang="es">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>@(ViewData["Title"] ?? "Panel Admin")</title>
        <link rel="manifest" href="/manifest.json">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
        <link href="~/css/Shared.css" rel="stylesheet" />
    @*     <link href="~/css/Admin.css" rel="stylesheet" />
     *@   <link href="~/css/AdminUsuarios.css" rel="stylesheet" />
        <link href="~/css/Admincss/AdminProductos.css" rel="stylesheet" />

        <link href="~/css/Cocinero.css" rel="stylesheet" />
    </head>
    <body>

        <header>
            <div class="panel-left">
                <i class="fa-solid fa-user"></i>
                <div>
                    <h2>Panel Admin</h2>
                    <p>Bienvenido, <span id="nombreUsuario">Administrador</span></p>
                </div>
            </div>

            <div class="nav-center">
                <a href="/Admin/usuariosadmin" id="link-usuarios" class="nav-link">
                    <i class="fa-solid fa-users"></i> Usuarios
                </a>
                <a href="/Admin/adminProducts" id="link-productos" class="nav-link">
                    <i class="fa-solid fa-burger"></i> Productos
                </a>
            </div>

            <div class="panel-right">
                <button id="btn-salir">
                    <i class="fa-solid fa-right-from-bracket"></i> Salir
                </button>
            </div>
        </header>

        <main>
            @RenderBody()
        </main>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/microsoft-signalr/8.0.0/signalr.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <script>

            function setActiveLink() {
                const currentPath = window.location.pathname.toLowerCase();
                const links = document.querySelectorAll('.nav-link');

                links.forEach(link => {
                    const href = link.getAttribute('href').toLowerCase();
                    link.classList.toggle('active', href === currentPath);
                });
            }


            function cerrarSesion() {
                localStorage.removeItem('token');
                localStorage.removeItem('usuario');
                sessionStorage.clear();
                window.location.href = '/';
            }

            document.addEventListener('DOMContentLoaded', () => {
                setActiveLink();

                const usuarioData = localStorage.getItem('usuario') || sessionStorage.getItem('usuario');
                if (usuarioData) {
                    try {
                        const usuario = JSON.parse(usuarioData);
                        if (usuario && usuario.nombre) {
                            document.getElementById('nombreUsuario').textContent = usuario.nombre;
                        }
                    } catch (e) {
                        console.error('Error al parsear usuario:', e);
                    }
                }

                const btnSalir = document.getElementById('btn-salir');
                if (btnSalir) btnSalir.addEventListener('click', cerrarSesion);
            });

            if ('serviceWorker' in navigator) {
                window.addEventListener('load', function() {
                    navigator.serviceWorker.register('/serviceworker.js')
                        .then(function(registration) {
                            console.log('Service Worker registrado exitosamente:', registration.scope);
                        })
                        .catch(function(error) {
                            console.error('Error al registrar Service Worker:', error);
                        });
                });
            }
        </script>
    <footer>
        <p>© 2025 Whataburger Admin Panel</p>
    </footer>

</body>
</html>

